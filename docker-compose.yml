version: '3.9'
services:
  app:
    build: .
    container_name: go-app
    ports:
      - "8080:8080"
    restart: always
    environment:
      - PUBLIC_KEY=LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUlJQ0lqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FnOEFNSUlDQ2dLQ0FnRUFzOWt4MDZ4Y2Q4L3FJMGVYczBzTQptN1daOHZYeTZVYXQ3SDhLMTQxWE5sYTZKQ25nQzlEL3JZRUZVSGRSVDJGVmpWSlRaeHhGakdBaWR2RHg4Q0Q2CkdwUk92OGZPUkU0THhaUDBUNkY5YjRWTU1Fdlkvd1hIamwrdjEzVC9hYlN0cHhlWGZCVjVNMjFNM2pBbkpaRkUKVkVJWC9jc3JyWG9YZzRSTzNpU2N6QXBlTGpWcnliQkdlV2tlYSsyd0J2M0s3VjVQMitCeW5VaVlEdi9BendTMwowQzB0cHYyS1lzNXRKeTVEaXBET1NMd2pPVjlheHpLdnRQcTUxelE5R3BDN1oxcHJnWHVJVWFHT2c0VWlSRVRrCndUOWhIOVRFNkFIMzkyNXY3Vm9kMS9qRFIzN0MxM1FDc1RxelVvclJDRC9LSnJ3aUR2Wkxsb1lXZnJKcnhuYXYKMmJ0czB0UlRxNWZkcnkzSWlXd2p0N2p1bTJHWElYY2ZmZjFsTmxsaTUxYUg3Q1J2aXRJaFROUWJnV0NqVDFoYwpObERkWnE0SEZJS29KZnc4eHpmRFBHcHV0eHpXR2ZPTzhHTmJYZDhBbEVhRmlOQ0RzeXZadWR3ZHc0enl5Q29MCnllYnNEZjQ1ajRIdFB2OFF0dGp3SFNDbzRrU1g0Rmc4S1ZOU3M4Ym9SZzQ4WkJvbWo0YkhwYURTdGtwR1FpNUoKZm5MOFFJeFBvN0dxTDFrZFZmRHVjZlZnNDlWRzVaNjlSS1pkZnlvWW5YZTBrdm9VdU5POGg3U3J0Ui9xbVljLwp0UmgyNzh5amhUdTRrWURTNUpuUVpKT2xpRTNKWmVxSWpWb1o2dHpBTTBKZzZJWmcvOWtBUU1mcEZhSXIvQlU0CkdabHd3YnFGWTZXbmlIY3hVNFJtREYwQ0F3RUFBUT09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=
      - PRIVATE_KEY=LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUpRd0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQ1Mwd2dna3BBZ0VBQW9JQ0FRQ3oyVEhUckZ4M3orb2oKUjVlelN3eWJ0Wm55OWZMcFJxM3Nmd3JYalZjMlZyb2tLZUFMMFArdGdRVlFkMUZQWVZXTlVsTm5IRVdNWUNKMgo4UEh3SVBvYWxFNi94ODVFVGd2RmsvUlBvWDF2aFV3d1M5ai9CY2VPWDYvWGRQOXB0SzJuRjVkOEZYa3piVXplCk1DY2xrVVJVUWhmOXl5dXRlaGVEaEU3ZUpKek1DbDR1Tld2SnNFWjVhUjVyN2JBRy9jcnRYay9iNEhLZFNKZ08KLzhEUEJMZlFMUzJtL1lwaXptMG5Ma09La001SXZDTTVYMXJITXErMCtyblhORDBha0x0bldtdUJlNGhSb1k2RApoU0pFUk9UQlAyRWYxTVRvQWZmM2JtL3RXaDNYK01OSGZzTFhkQUt4T3JOU2l0RUlQOG9tdkNJTzlrdVdoaForCnNtdkdkcS9adTJ6UzFGT3JsOTJ2TGNpSmJDTzN1TzZiWVpjaGR4OTkvV1UyV1dMblZvZnNKRytLMGlGTTFCdUIKWUtOUFdGdzJVTjFtcmdjVWdxZ2wvRHpITjhNOGFtNjNITllaODQ3d1kxdGQzd0NVUm9XSTBJT3pLOW01M0IzRApqUExJS2d2SjV1d04vam1QZ2UwKy94QzIyUEFkSUtqaVJKZmdXRHdwVTFLenh1aEdEanhrR2lhUGhzZWxvTksyClNrWkNMa2wrY3Z4QWpFK2pzYW92V1IxVjhPNXg5V0RqMVVibG5yMUVwbDEvS2hpZGQ3U1MraFM0MDd5SHRLdTEKSCtxWmh6KzFHSGJ2ektPRk83aVJnTkxrbWRCa2s2V0lUY2xsNm9pTldobnEzTUF6UW1Eb2htRC8yUUJBeCtrVgpvaXY4RlRnWm1YREJ1b1ZqcGFlSWR6RlRoR1lNWFFJREFRQUJBb0lDQUF6ZmlBeUJzdUMwbGlyT1RoSjhWYnV6CmhRQjZFRmdZUWd6Q2p6RWNvZGgyM3I0RjdVNkxPREhnSVZSQUppYkxiY2MrMUU5Mkc1aFByVWZjT1VVWjV5ME4KM3BFbHFTTUVmeDAyV085MlBMZEYwRTFJc0pDWWhrOHZsRE9VNFU5Y3FtMWlaK3B1MHcwV1RzRThxeUNxUkR6UAp1azNsUkF3WHlDVVd6RnBrUG9Ed1lRdG5zWDV2U3F3WUZTQmVsQkg4Q3BGeEJjQlVVWC9tbVZQQmhMaU11dWVBCnhGckduU2d6WkdiQWpmOFdIRjNpY1pjQ3QwbTQzQkRWUFlZazdCYkJzMWhUaFl4d0hqTFJvSlRUYTc5OU91NkcKTGRxTWJVZTZGRmkyby9aV1UvcUlpTm5PUGY0VUJMbFEzVk1VTXFBbmlMMjdDNmtNZ2g2VkhIa1hKbFcvV3hqWQpsdlFpbnhiNDFIeE9Ubm5FSEF0b1J6QjhyTFJNQ0pnOUE3T1YzL2JnN1hmRVlCS20yMXJ4QWlLd0Y2WXcrN0kzCm9SMGhDeU4zS0RJeHNyMXR2K2NsZlp5YThRWFFvR0NmU1Y0dG5CYm1OamVaTThQUGdHZ2V2V3dub1B2cHZFeUsKWFVNMWVEOHJnblZ3MkRkekh1VU1NYWJ3cVBKNS9QN3hCYkRDRG5lQUI0OTRLU2owbG1ENHNOeWlxdjBnc0l6TgpzTWF5d2ZZcWUyQkx1c0VpQWdqeGczZ3lMSWRJTWFJOW5TQWpJTGlscHNCYWlLNzhFVGx0N21PeXZObmpHU2d2Cm9DUzdqcCtHWGZQV1UxVlpNYy9WNUVPYVZwZysraU5Uc1JWMXpWcVBWaHJJRDV6NHh1bWc3WVBkKzJwNXNtYzEKb1d5dDBlNzRpbTZrYVpsb1pLLzFBb0lCQVFENlk3NG56UzBKSWZ4T1VJakRiUThwMlorc0NBYzYyZzZ0aDFrYgppVjNXZk9hTGdpaUltZnRTaWpsWm4wWTJUVlh1Nnl5T3JQdVBYSnpJOXBjS3M2UEdJZ3A3MlBvQWh5bFVGejZlCmFPYzI1L3BPSko3aG14aU9vYmtJWWZiaklaUzN1U3NmZG9PWDcrc0tDbUlCNi9SeDdxQUY5S3RzcU9seWZGa1cKaTdEblhwcGFMdi9pbm1qT21iTmpRbjYvdFRmcTQyaWprbk9meVNJejlqOGFyRHB3TkhCRXR3cUh0L3FQZjVaRApSY0xlL21SK3c4OE5zcEwxbHJnUkZNM2hXMit0YlM2SUE5SU13cXU4OGxnV2ZUSzJzdWRzcTRhZ05IeTZrZFgvCllQNnJ6VlhxSXdwVGVvMC96REZDNGt0a3lJZmwxbWdKV05zTUQ5dU9JV0JsZVd6akFvSUJBUUMzNE5JNlN1eGMKcWtoYnpBcFhUVElzWWRXU0JaVEQ0OWdjMkRYai9rY2xVeE1INGRBbFNzRDZZeE13VHc2NE1ZVG10QWNJc0pFMgpWQ09sZjRsOEVGMnVrb1dpUTZWWUNLTWRXS3VyTm5SWCtPdnFKZ3phaGRBNkl1QU92R1F6bzZGZG1LSC9ld2ZICm9ReGxXcE5PbnR6dVVpNTQ3VjBJMnRwRFhHV0NFbU5hd3ZjNVcxQTkzN0tqdkdlQlhkRy9YVDFMdFVnaXhLc2IKV0Z2eE1tU3JvTmt3V0dYdzVjaGkvWVF5RkIwckdnZGhXbkhjLzd4R0RnV1owWnlSRWVhQUlBTTd3cUNZYllzUwp1SEFKY3FoUThodkhBUkFzc0Y0ajhXR1FTSXo4Tnk4WDRKRjBpOVVWaTY2Zy9YZ3VwZktOV2k2S2xaWHRSNDcxCmhubWU0bzRiZXlXL0FvSUJBUUQyeUhIMTVwcFpvdjU2N1pNdUVnSmMvQm9NdzBqazcyQ0NGYUYwcTNvcVdhWWMKb0NkMUkxYjZialBDS21KWVNQYkdhVkhjT1pBakoyTjhDdGFwZkk2UlRLSEttUHNtcEJET3lhNDFFUzI2QnYvRQpId0hkV0REbSsyeFVYOEdtOFVVVG8xUm1TVGUvKzM1THdob0F6Tjk3bjNabkNGUWczNFpmQ1VJQkg2TTNGeDNJCmZ3UkRCbUJFS0djUEVNMitBMDFlbTg1WlVaSFdUYllCUXRYRll6U2h2SDFlckkyYllIQjdHSVF3UDhTbVpsTUUKUWRlRUo1b0NwZzg2L3FkQVV3K0ovYzlielhBc2xYNFExMGFNdTg3TkZSMVZGT1cyWnFUOGVacFNmdlhpdkpuTwpEOFV3cTl3bG9ncDNZblJ1bTlxZFpDbmI5SkRJbmFTR3ZFeTNGdXVEQW9JQkFGYXhuZ3l6MUhyZ0lodDl1UVp1Ck5CQ3UwOVh6NGE3MkZxZUszT1d3dG5TSGxYcHE0Z3NqRXBjNjdRb2l6QXJWOWhZYm5SRmd4aVk2UjFBNU1HWVoKQlVKUWZNY0RZOHA4MEFML0VuazN4R1RSek5EcHZiZXR6WDRMZ1Y0UlBxRUdMZ2VGOWlNUks1clllSkswd0swWgp3NHB0bnRHUEFBVXp3aUp1UnNHcno4STBHQUduNXM0MVVQRlgyK2tuaGNQV3Z4YVowdmZwaDg3dHV2T2VVYzZGCm1NRHRmS3EyZStNSUtqSytQdjVhV0U1ektTb01QUVUraVM5N24zamFXclhmNGdaai9mbS85QWtRZ21wQjc4K3kKUnB4dUNPVTVCam1tRGR6TUNBVEdNK0xyRTBsQ3dHVlhKUzlzTWlTMFF3YVlGVWRydlhOUkFMc0wrdjJKVFh6eApjOXNDZ2dFQkFJMWZ2UDRackwwY0NRcVdHVVppSEhMZVFGaU9RQndsYWFkbzA3Z3Yxak40RXRrcXVOM0RITUEzCnArVGUzUUVtRU4zNitpSklPQTBZaFZ4MFFrVFAzL1dJcUJlL0o4TTA4SzhBSDJIZWxxOXFHclJGSUNxNG5GajgKcXJZWGNNOWdtNXdPb244ZU9zQ2lBcXZsL24vcFFKcVlUdFZmMG1JWFZKOE0vT00vV0NRT1RiUGt6aCtGM3JneAozaGxYOG05NUJBUlFFdFh3ZjkrbUVjejByWnVmS0M2R1hDbjNORzU0Mm1sTkt1bVVxc2tudlhTMXhTQ21HV2lCClVCS3g1ak9UUloxUzROVGxpZjVyOUU1dER5V3ZEOFk1TWxDWHE2bkhuY1hza3p1RDB5TDY5cnBpWkRaeXlNVE0KWVFOOUtzUkhaVlUzNTh3bFJVeXorS1JONHRBSkNEQT0KLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLQo=
      - MONGO_URL=mongodb://mongo1:27017,mongo2:27018,mongo3:27019/my-database?replicaSet=my-replica-set
      - GIN_MODE=release
    networks:
      - ms-service
networks:
  ms-service:
    name: ms-service
    # logging:
    #   driver: fluentd
    #   options:
    #     fluentd-address: host.docker.internal:24224